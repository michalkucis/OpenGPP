<?xml version="1.0" encoding="ISO-8859-2"?>
<configuration>
  <input name="color" type="single">
    <file path="images\ANNO-Color.png" type="standard" red="red" green="green" blue="blue"/>
    <color mult="1.0"/>
    <depth add="0" mult="1" linearize="true" linearizeNear="1" linearizeFar="10000" icosmult="1.0" anglemult="0.0"/>
  </input>
  <input name="dataset1_0000" type="single">
    <file path="exrSingle\dataset1_lp_0000.exr" type="exr" envred="R" envgreen="G" envblue="B"/>
    <file path="exrSingle\dataset1_img_0000.exr" type="exr" red="R" green="G" blue="B" depth="Z"/>
    <color mult="1.0"/>
    <depth add="0" mult="0.01" linearize="false" linearizeNear="1" linearizeFar="10000" icosmult="1.0" anglemult="0.352"/>
  </input>
  <input name="reposition2" type="sequence">
    <file path="exrReposition2\img_movingscene_%d.exr" type="exr" envred="R" envgreen="G" envblue="B"/>
    <file path="exrReposition2\img_movingscene_%d.exr" type="exr" red="R" green="G" blue="B" depth="Z"/>
    <sequence start="0" end="60" step="1" repeat="1"/>
    <color mult="1.0"/>
    <depth add="0" mult="0.01" linearize="false" linearizeNear="1" linearizeFar="10000" icosmult="1.0" anglemult="0.352"/>
  </input>
  
  <input name="seqIntensity1" type="sequence">
    <file path="exrChangeLightIntensity\lpr_light1_lamp0_pos0.exr" type="exr" envred="R" envgreen="G" envblue="B"/>
    <file path="exrChangeLightIntensity\img_light1_lamp0_pos0.exr" type="exr" red="R" green="G" blue="B" depth="Z"/>
    <sequence start="0" end="60" step="1" repeat="1"/>
    <color mult="1.0"/>
    <depth add="0" mult="0.01" linearize="false" linearizeNear="1" linearizeFar="10000" icosmult="1.0" anglemult="0.352"/>
  </input>
  <input name="seqIntensity2" type="sequence">
    <file path="exrChangeLightIntensity\lpr_light1_lamp10_pos0.exr" type="exr" envred="R" envgreen="G" envblue="B"/>
    <file path="exrChangeLightIntensity\img_light1_lamp10_pos0.exr" type="exr" red="R" green="G" blue="B" depth="Z"/>
    <sequence start="0" end="60" step="1" repeat="1"/>
    <color mult="1.0"/>
    <depth add="0" mult="0.01" linearize="false" linearizeNear="1" linearizeFar="10000" icosmult="1.0" anglemult="0.352"/>
  </input>
  <input name="seqIntensity3" type="sequence">
    <file path="exrChangeLightIntensity\lpr_light1_lamp50_pos0.exr" type="exr" envred="R" envgreen="G" envblue="B"/>
    <file path="exrChangeLightIntensity\img_light1_lamp50_pos0.exr" type="exr" red="R" green="G" blue="B" depth="Z"/>
    <sequence start="0" end="60" step="1" repeat="1"/>
    <color mult="1.0"/>
    <depth add="0" mult="0.01" linearize="false" linearizeNear="1" linearizeFar="10000" icosmult="1.0" anglemult="0.352"/>
  </input>
  <input name="seqIntensity4" type="sequence">
    <file path="exrChangeLightIntensity\lpr_light1_lamp250_pos0.exr" type="exr" envred="R" envgreen="G" envblue="B"/>
    <file path="exrChangeLightIntensity\img_light1_lamp250_pos0.exr" type="exr" red="R" green="G" blue="B" depth="Z"/>
    <sequence start="0" end="60" step="1" repeat="1"/>
    <color mult="1.0"/>
    <depth add="0" mult="0.01" linearize="false" linearizeNear="1" linearizeFar="10000" icosmult="1.0" anglemult="0.352"/>
  </input>  
  
  <input name="intensity1" type="single">
    <!-- <file path="exrChangeLightIntensity\lpr_light1_lamp0_pos0.exr" type="exr" envred="R" envgreen="G" envblue="B"/>-->
    <file path="exrChangeLightIntensity\img_light1_lamp0_pos0.exr" type="exr" red="R" green="G" blue="B" depth="Z"/>
    <file path="images\ANNO-color.png" type="standard" envred="red" envgreen="green" envblue="blue"/>
    <color mult="1.0"/>
    <depth add="0" mult="0.01" linearize="false" linearizeNear="1" linearizeFar="10000" icosmult="1.0" anglemult="0.352"/>
  </input>
  <input name="intensity2" type="single">
    <file path="exrChangeLightIntensity\lpr_light1_lamp10_pos0.exr" type="exr" envred="R" envgreen="G" envblue="B"/>
    <file path="exrChangeLightIntensity\img_light1_lamp10_pos0.exr" type="exr" red="R" green="G" blue="B" depth="Z"/>
    <color mult="1.0"/>
    <depth add="0" mult="0.01" linearize="false" linearizeNear="1" linearizeFar="10000" icosmult="1.0" anglemult="0.352"/>
  </input>
  <input name="intensity3" type="single">
    <file path="exrChangeLightIntensity\lpr_light1_lamp50_pos0.exr" type="exr" envred="R" envgreen="G" envblue="B"/>
    <file path="exrChangeLightIntensity\img_light1_lamp50_pos0.exr" type="exr" red="R" green="G" blue="B" depth="Z"/>
    <color mult="1.0"/>
    <depth add="0" mult="0.01" linearize="false" linearizeNear="1" linearizeFar="10000" icosmult="1.0" anglemult="0.352"/>
  </input>
  <input name="intensity4" type="single">
    <file path="exrChangeLightIntensity\lpr_light1_lamp250_pos0.exr" type="exr" envred="R" envgreen="G" envblue="B"/>
    <file path="exrChangeLightIntensity\img_light1_lamp250_pos0.exr" type="exr" red="R" green="G" blue="B" depth="Z"/>
    <color mult="1.0"/>
    <depth add="0" mult="0.01" linearize="false" linearizeNear="1" linearizeFar="10000" icosmult="1.0" anglemult="0.352"/>
  </input>
  <input name="changeLightIntensity" type="list">
    <ref name="intensity1"/>
    <ref name="intensity2"/>
    <ref name="intensity3"/>
    <ref name="intensity4"/>
  </input>
  <input name="caption" type="single">
    <file path="images\Caption-example.png" type="standard" red="red" green="green" blue="blue"/>
    <color mult="1.0"/>
    <depth add="0" mult="0.01" linearize="false" linearizeNear="1" linearizeFar="10000" icosmult="1.0" anglemult="0.352"/>
  </input>
  
  <output name="demo" type="nosave">
    <window enabled="true" x="640" y="480"/>
  </output>
  <output name="exr" type="image">
    <window enabled="false"/>
    <file name="output\hdr.exr" type="exr"/>
  </output>
  <output name="sequence1" type="sequence">
    <window enabled="false"/>
    <file name="output\seq_%d.png" type="fixed"/>
    <sequence start="0" end="60" step="1"/>
  </output>
  <output name="video.avi" type="video">
    <window enabled="false"/>
    <video filename="output\video.avi" fourcc="XVID" fps="30" repeatFrame="30" />
    <library name="opencv"/>
  </output>
  <output name="apertureAdapt.avi" type="video">
    <window enabled="false"/>
    <video filename="output\apertureAdapt.avi" fourcc="XVID" fps="30" repeatFrame="10" />
    <library name="opencv"/>
  </output>

  <vignettingRadial name="default">
    <func type="polynomial" degree="2">
      <value>-1.0</value>
      <value>0</value>
      <value>1</value>
    </func>
  </vignettingRadial>
  <vignettingMask name="default">
		<mask filepath="images\vignetting-mask.jpg"/>
	</vignettingMask>
  <distortionRadial name="default">
    <sizeOfGrid x="16" y="16"/>
    <!-- radial distortion model is simulated by the warping. 
						This element defines resolution of the grid -->
    <param alpha="1" beta="1" gamma="-0.0" u0="0" v0="0"/>
    <!-- defines radial distortion function: -->
    <func type="polynomial" degree="2">
      <value>0.5</value>
      <value>0.5</value>
      <value>0</value>
    </func>
  </distortionRadial>
  <distortionGrid name="default">
    <grid countX="4" countY="2">
      <point2 x="0" y="0"/>
      <point2 x="0.1" y="0"/>
      <point2 x="0.9" y="0"/>
      <point2 x="1.0" y="0"/>

      <point2 x="0" y="1"/>
      <point2 x="0.3" y="1"/>
      <point2 x="0.6" y="1"/>
      <point2 x="1" y="1"/>
    </grid>
  </distortionGrid>
  <chromaberRadial name="default">
    <sizeOfGrid x="10" y="10"/>
    <red_cyan>
      <func type="polynomial" degree="1">
        <value>1.03</value>
        <value>0</value>
      </func>
    </red_cyan>
    <blue_yellow>
      <func type="polynomial" degree="1">
        <value>0.970</value>
        <value>0</value>
      </func>
    </blue_yellow>
  </chromaberRadial>
  <blur name="default">
    <func type="polynomial" degree="1">
      <value>200</value>
      <value>0</value>
    </func>
  </blur>
  <depthoffield name="diffusion">
    <type name="diffusion" iteration="1"/>
    <aperture type="fixed" fnum="10"/>
    <!-- <aperture type="adapt"/> -->
    <parameters sensorSize="42" focalLen="48"/>
    <distance type="fixed" depth="1.27"/>
   </depthoffield>
  <depthoffield name="gather">
    <type name="gather"/>
    <aperture type="fixed" fnum="10"/>
    <parameters sensorSize="42" focalLen="48"/>
    <distance type="fixed" depth="1.27"/>
  </depthoffield>
<!--  <lensflareSimple name="default">
    <envmap angleX="3.14" angleY="3.14" sizeX="400" sizeY="400"/>
    <fov angleX="1.10" angleY="0.83"/>
    <params starMult="0.015" csMult1="0" csMult2="-4"/>
  </lensflareSimple>
-->
  <lensflareSimple name="default">
    <envmap angleX="3.14" angleY="3.14" sizeX="256" sizeY="256"/>
    <fov angleX="1.10" angleY="0.83"/>
    <params starMult="0.015" csMult1="0" csMult2="-4"/>
  </lensflareSimple>
  <motionblurParam name="default">
    <deltapos>
      <point3 x="0" y="0.00" z="0.00"/>
    </deltapos>
    <deltatarget>
      <point2 x="0.08" y="0.0"/>
    </deltatarget>
    <distancetarget>
      <float x="2.6"/>
    </distancetarget>
    <fovangle>
      <point2 x="1.106" y="0.830"/>
    </fovangle>
    <iterations number="20"/>
  </motionblurParam>
  <clampValues name="default">
    <max value="0.5"/>
  </clampValues>
  <noiseSimple name="default" >
    <limit min="-0.2" max="0.3"/>
    <func type="polynomial" degree="0">
      <value>0.1</value>
    </func>
  </noiseSimple>
  <transformValues name="default">
    <func type="polynomial" degree="1">
      <value>-1</value>
      <value>1</value>
    </func>
  </transformValues>
  <apertureAdapt name="default">
    <param type="adapt" fnum="1" brightness="true"/>
    <adapt middlegray="0.49" minFnum="0.01" maxFnum="16.0" maxSpeed="16" PIregKp="0.5" PIregKi="0.0"/>
  </apertureAdapt>

  
  <features name="disabled">
    <!-- no features -->
  </features>
  <features name="vignetting regular">
    <vignettingRadial name="default"/>
  </features>
  <features name="vignetting irregular">
    <vignettingMask name="default"/>
  </features>
  <features name="distortion radial">
    <distortionRadial name="default"/>
  </features>
  <features name="distortion grid">
    <distortionGrid name="default"/>
  </features>
  <features name="chromatic aberration">
    <chromaberRadial name="default"/>
  </features>
  <features name="blur">
    <blur name="default"/>
  </features>
  <features name="dof gather">
    <depthoffield name="gather"/>
  </features>
  <features name="dof diffusion">
    <depthoffield name="diffusion"/>
  </features>
  <features name="lensflare simple">
    <!-- ERROR.. need debug!! -->
    <lensflareSimple name="default"/>
  </features>
  <features name="motionblur">
    <motionblurParam name="default"/>
  </features>
  <features name="noisesimple">
    <clampValues name="default"/>
    <noiseSimple name="default"/>
  </features>
  <features name="transformValues">
    <transformValues name="default"/>
  </features>
  <features name="apertureAdapt">
    <apertureAdapt name="default"/>
  </features>



  <commands name="video">
    <!--   
    <output name="apertureAdapt.avi"/>
    <features name="apertureAdapt"/>
    
    <input name="intensity1"/>
    <commit/><commit/><commit/><commit/><commit/>
    <commit/><commit/><commit/><commit/><commit/>
    <commit/><commit/><commit/><commit/><commit/>
    <commit/><commit/><commit/><commit/><commit/>
    <commit/><commit/><commit/><commit/><commit/>
    <commit/><commit/><commit/><commit/><commit/>
    
    <input name="intensity2"/>
    <commit/><commit/><commit/><commit/><commit/>
    <commit/><commit/><commit/><commit/><commit/>
    <commit/><commit/><commit/><commit/><commit/>
    <commit/><commit/><commit/><commit/><commit/>
    <commit/><commit/><commit/><commit/><commit/>
    <commit/><commit/><commit/><commit/><commit/>
    <input name="intensity3"/>
    <commit/><commit/><commit/><commit/><commit/>
    <commit/><commit/><commit/><commit/><commit/>
    <commit/><commit/><commit/><commit/><commit/>
    <commit/><commit/><commit/><commit/><commit/>
    <commit/><commit/><commit/><commit/><commit/>
    <commit/><commit/><commit/><commit/><commit/>
    <input name="intensity4"/>
    <commit/><commit/><commit/><commit/><commit/>
    <commit/><commit/><commit/><commit/><commit/>
    <commit/><commit/><commit/><commit/><commit/>
    <commit/><commit/><commit/><commit/><commit/>
    <commit/><commit/><commit/><commit/><commit/>
    <commit/><commit/><commit/><commit/><commit/>
    <input name="intensity1"/>
    <commit/><commit/><commit/><commit/><commit/>
    <commit/><commit/><commit/><commit/><commit/>
    <commit/><commit/><commit/><commit/><commit/>
    <commit/><commit/><commit/><commit/><commit/>
    <commit/><commit/><commit/><commit/><commit/>
    <commit/><commit/><commit/><commit/><commit/>
    -->
    <output name="video.avi"/>
    <output name="exr"/>
    <input name="changeLightIntensity"/>
    <features name="lensflare simple"/>
    <commit/>
    
    <!--
        
    <input name="caption"/>
    <commit/>
    
    <input name="changeLightIntensity"/>
    <commit/>

    <input name="changeLightIntensity"/>
    <features name="vignetting regular"/>
    <commit/>

    <input name="changeLightIntensity"/>
    <features name="vignetting irregular"/>
    <commit/>

    <input name="changeLightIntensity"/>
    <features name="distortion radial"/>
    <commit/>

    <input name="changeLightIntensity"/>
    <features name="distortion grid"/>
    <commit/>

    <input name="changeLightIntensity"/>
    <features name="chromatic aberration"/>
    <commit/>

    <input name="changeLightIntensity"/>
    <features name="blur"/>
    <commit/>
   
    <input name="changeLightIntensity"/>
    <features name="dof gather"/>
    <commit/>

    <input name="changeLightIntensity"/>
    <features name="dof diffusion"/>
    <commit/>
 
    <input name="changeLightIntensity"/>
    <features name="motionblur"/>
    <commit/>
 
    <input name="changeLightIntensity"/>
    <features name="noisesimple"/>
    <commit/>

    <input name="changeLightIntensity"/>
    <features name="transformValues"/>
    <commit/>

    <input name="changeLightIntensity"/>
    <features name="apertureAdapt"/>
    <commit/>
-->
  </commands>
</configuration>